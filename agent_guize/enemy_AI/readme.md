运行说明：
把auto_test文件夹放在AI_test_2024根目录下，运行main.py

========================================================================================
主分支先弄一个基础版本的AI Demo，后面各种测试用例再开相应的分支就比较好。顺利的话下午就可以开始测开火

后续应该安排一个请人鉴定，就是说找一个完全没参与的人，来部署使用一遍，如果好使了，就没事儿了。如果不好使，就得看是因为什么。

一个比较理想的情况是，框架先拉通，然后等那边有了之后再来测试。

发布之前画个类图。反正也没多复杂。

琢磨一下，开始之前是否有必要做一个映射。别整那种后面一大堆的小数的2.71001

平台的冗余文件太多了，还能翻到世界地图和省市县地图。

========================================================================
2024年8月8日测试
1，似乎不发弹了，不知道是为什么。测试程序是在去年的基础上改的。初步破案：近距离不通视了，一方面可能是程序有问题，另一方面也说明现在的大块不通视、大块不可见的设定是有问题的。
2，现在这版前端会闪退。Qt也会闪退，老问题了。
3，现在这版看起来动不了，前端后端应该都动不了

========================================================================

2024年8月9日测试
1，会跑死在奇怪的地方。move仍然动不了。炮是能打的了，穿甲弹也确实能穿到东西。


========================================================================
2024年8月19日，经历了很大的一轮停滞，得给它重新弄起来。目前看情况不妙，能调动的人力甚至少于1个，连自己的时间都保证不了。
1，继续开火移动。后端看着确实是数字变了，但是前端没动静。定位不准似乎，不能准确走到指定的点。
2，干扰能不能起作用。得加一个“干扰车不能被干扰”的逻辑在其中。得弄一个"global不能下命令给被干扰装备"的机制在里面。21点52分，干扰测试python端弄完了，现在是"被干扰就跑“实现了，但是还差一些对接。
3，沿着路移动这个事情没有实现。
4，运行速度为什么这么慢？这电脑理论上比去年好很多。
5，其实可以把场景集里面那个并行的机制搞过来，但是暂时似乎是没必要的。

一个问题：干扰车要是新加一个类型那么毁伤啥的全都得重新写一遍，所有带if else的地方都是如此。这样的程序结构是不利于维护的，按说应该全工程只来一个种类列表，别的地方都按照这个循环，就好一些。现在的解决方案是偷懒，把它配成装甲车类型。

=======================================================================
2024年8月20日，一边开着并行一边调试并不十分现实，太卡了顶不住。那边点个断点先停下来效果是比较好的。
1，干扰开了之后标志位没有变。阳哥现在实现的这个版本的干扰似乎只干扰电磁啥的，用的是最省事的办法。基本破案了，就是每次传标志的时候都已经被reset掉了。合理的该法应该是继承上一步的状态，然后每一步都裁决。一直折腾到晚上之后这个算是完事儿了，难顶。
2，巡飞弹吃了干扰之后没有原地自毁，还得琢磨一下是怎么回事儿。20点28分破案了，是因为无人机上面没有正经传感器，只有一个奇奇怪怪的PID。那改JSON说不定就行。这个搞完还有别的问题，又是自己gostep一下之后直接把标志位清了。这个算是改好了，但是还没最终测试。
3，巡飞弹的毁伤还没写，那也得写。摇人来弄可能会比较好。

一个问题：阳哥那边要求前端的输入。
===========================================================================
2024年8月21日。先把巡飞弹消失弄了，然后再弄巡飞弹毁伤和接口
1,阳哥给改那版就没进去，估计前面啥地方过滤掉了，得找。找到了，发弹得再给他连起来才好使。好，一系列排故之后好使了。
2，自行手动把巡飞弹的毁伤写了，顺便修了之前剩下的BUG。具备了纳入到统一的开火测试的条件了。
===========================================================================
2024年8月22日。不行就自己动手丰衣足食了。
1，一样一样的来，先研究一下怎么加入越野状态。14点25分，几乎算是加完了。
2，一样一样的来，研究完越野之后自己写一个越野的缓慢的。14点25分，几乎算是加完了。20点36分算是测完了，能够正确生成出traj3D，而且确实是动起来了，鉴定为好。。
3，gostep有毒，会改标志位。20点36分修好了
===========================================================================
2024年8月23日。能做的工作量还有很多，包括但不限于修改通视，体现出隐蔽的效果，尤其是步兵。增加进房子，体现出进房子的效果，估计带房子的毁伤也得好好调整。

1，给步兵也把越野机制加了，不然到时候反而变成只有步兵不能越野，就比较傻逼。一个值得讨论的问题：步兵是不是应该默认状态就是能走野外的？总之哪头都能说，先把越野机制建立出来。09点46分真的抽象，去年的步兵从代码里看根本就无法切换状态
2，落实一下越野速度的影响，越野统一设定为只有一半速度好了。
===========================================================================
2024年8月26日。进房子还没弄，道路机动还没弄。前端的也还没给出去。
===========================================================================
2024年8月27日。注意到，红方部署太多了会把蓝方的坐标淹了，这样是不好的。

1，算是把进房子机制给加了，现在能进房子能出房子，但是还没有测到在房子里的伤害。21点54分测到了，进房子相比不进房子能够多抗四五发高爆弹，1、2 VS 6，鉴定为好。
2，看起来应该加一个设定，步兵在房子里能够免疫子弹，听起来不是十分合理的吗。22点09分改了。
3，通视有问题，现在默认全都不通视，这打起来能命中个锤子。合理推测是因为这个才打不上的之前。这个明日再议
4，要搞友军伤害吗？高爆弹其实有友军伤害比较合理，也不难弄，但是可能没有必要。
5，目前代码里，进房子和隐藏是叠加的，如果进房子且隐藏，那么将会极其难杀。
6，恐怕应该多给点无人机，然后步兵藏房子里才有意义。再来点导弹威力巨大的设定，甚至设为必杀。

==========================================================================
2024年8月28日了，赶紧的，搞一些图看看情况。
1，按说房子是没有阵营的。不过现在这版好像也没有检测进房子是不是同阵营。希望是让它都能进。done。改JSON也算是改完了已经
2，“开了干扰全图可见”这个机制还没有做出来。这个问问阳哥他们怎么写。
3，测通视，看到底是为什么不通视。100米眼睛看不见，那显然是不对的。破案了，算通视线的时候高度被置为0了，所以吃了地球曲率的亏。还是得加模型高度。经过测试，确实是因为这个。改了之后就能看到了。
4，探测概率那个，地形和状态应该改变的是探测距离，只改概率变成早晚几秒探到，讲道理意义就不是很大了。22点01分改好了算是
5，为何炮能够移动开火仍未破案。

==========================================================================
2024年9月3日了，蓝方部署没出来，不知道为啥。态势里有的，坐标也没出地图，但是前端没有显示。

==========================================================================
2024年9月4日了，现在重新装了两台比较好的电脑还是舒服的。
1，蓝方导弹车部署还没改。改了，但是后端没有很好地部署上，还得调试一番。
2，打炮似乎没正常打出来不知道为啥。确实就是没打出来。难顶了。
3，现在前端显示的貌似是红方视角，那显然是不对的嘛。
4，遗留问题：部署到地图外面之后导弹还能发射吗？

==========================================================================
2024年9月5日了，今天要解决的问题。改速度，改部署，改前端。让导弹车不移动
1，打炮打出来了还是。但是打移动目标还是不太打得到。
2，已查明改速度得去speedtable里。速度为0就是不吃这个命令。那个是km/h
3，鉴定为寄，不上车了。修好了。JSON里的ID拼写错误，只能将错就错。然后折腾发现是ID匹配的不对，改了之后车那头是对了，问题变成步兵不从态势里消失。units.remove(infantryid_);
4，改射程在哪改？还有探测距离。
5，还得专门测一下打导弹。这个得有说法的哇。还有导弹车的概率,弄了。21点42分进了发弹了，python态势里也有弹，前端里面只是飞的慢。好，那么目前来看攻防的导弹都是打的。
6，不行就加强蓝方，让蓝方除了现有兵力，再初始在每个房子都有兵力。然后要不就搞成导弹不毁伤防空阵地，防空反导不毁伤无人机。
7，前端和后端的延迟比较长。
8，巡飞弹显示为未知类型舰船，而且无法移动。上车之后也不移动了简直了。21点53分这个时候
9，仿真速度这茬要提上日程了，不然真玩不了。

============================================================================
2024年9月6日，今天要解决的问题，改前端，改探测范围，修各种bug。还得测一下纯打穿甲弹行不行。

1，由于传数的机制，步兵车炸了之后步兵还在态势里。done阳哥和来哥给改对了。
2，仿真速度、前后端延迟。G
3，探测距离和射程。探测距离是JSON里面去改。done
4，巡飞弹自毁时间加大一点。而且被拦截弹拦截了，不想让它被拦截。搞成拦截弹不打飞机算了。
5，巡飞弹好像不飞了，不知道为啥。还是不飞。18点12分阳哥给整了一版之后巡飞弹终于是会飞了，可喜可贺。
6，蓝方装甲车还是上车了之后不走了。
7，Qt会跑没了，不过倒是问题不大。
8，中后期会跳好多“已存在指令某某某”，尚且不知道是为啥。
9，分数还没改，还不知道去哪改。
10，装备栏里没有巡飞弹，还得请求唐燃哥他们给弄一下。

============================================================================
2024年9月7日，好消息，吃了干扰确实会往回走，坏消息，怎么都不开火呢？

1，坦克炮不开火，研究一下是怎么回事儿。抽象，刚开始测AI demo的时候都还会开火呢。肉眼看着它进了LaunchMissile，过了createunit。经过调试，不是不发弹，发的，python这边态势里也有的。

============================================================================
2024年9月9日，怪起来了。

1，红方想让它打穿甲弹，但是没打出去。蓝方穿甲弹和高爆弹都打出去了，也有分数。需要进行两个隔离测试，一个是只开蓝方穿甲弹，一个是只开红方穿甲弹。
2，不是个办法，先把射程改了测一版看看。一个假设：可能是因为抄过来的发弹代码没检测距离，导致一直奔着最远的那个发，导致一直发不出去。合理推测，就是距离的问题，改成114514之后就发弹了。这波测试显示，打固定目标还是能打到的，高爆弹也能毁伤，但是移动目标打不到。
3，红方巡飞弹的部署位置有问题，部署到蓝方家里去了。需要检查一下。done
4，经查，蓝方上车之后步战车还是不动。经过来哥努力，尚未查明到底是为什么。20点32分。
5，经查，穿甲弹不毁伤就是弹速太慢，打过去敌人已经跑路了。试一下改成激光弹速，结果也没有好很多，经常是还离着一百多几百米。那么事情就清楚了，所谓不毁伤，其实是因为前面几轮都打不中，弹着点距离太远导致根本进不了判毁伤那个.进一步发现，全是间瞄。间瞄的话可不是打不中么。进一步测试发现，这个应该是平台运行逻辑的问题，而不是弹速度的问题，因为直瞄下弹速调到5倍光速，拓跋量并没有明显变化。直瞄和间瞄的脱靶量还是有区别的，直瞄50不到，间瞄150不到。一个想法：重写平台逻辑，不再是每一步看毁伤，而是每次开火来一个信号槽机制直接当地触发毁伤。要是远处就搞成间瞄那种。二个想法，阈值拉大。但是就抽象。【至此，发弹这茬就算是破案了】
6，经查，local的里面确实有重复指令，然后那个一开就全图都干扰了。全图干扰是SVN的锅，这东西大大减缓工作效率。这个问题应该主动地去解决。
7，经查，红方一直在轰房子，所以没有毁伤。然后轰对方的弹，全是重复劳动，去年处理过的问题，蚌。
8，观察问题很大，有无人机就都能看到，没有就啥也看不到，这就挺抽象的。虽然这可能是对的。

=================================================================================
2024年9月10日，给程序动手术算是动完了。还得把CD和弹量的check弄过来。
1，加一个类型转换的东西给它能够比较好。改完了现在，先测一把，看看真正的毁伤效果是啥样的，然后同步一下JSON，以git里面的那个为主。
2，还有遗留问题，这么玩儿的话其实不存在间瞄这一说了。以及得处理一下射程限制，不能为所欲为。
3，前端显示发现了但是给到python的探测池子里面没有东西。
4，进攻弹是能发出来的，鉴定为没啥毛病。只靠穿甲弹和导弹打出来300帧320：160的分数，至此，基本上毁伤的强度就算是够了。
5，JSON倒是改完了，但是新加的步兵部署不上了，不知道是为啥。
6，前端完全寄了，不知道为什么。因此也看不了部署的到底是对不对了。

===============================================================================

视野全都没有，一颗进攻弹飞过来就全部点亮，这就非常的不合理。